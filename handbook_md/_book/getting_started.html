<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>UNHCR Microdata Curation Handbook - 2023 - 2&nbsp; Getting started</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./indentify_data.html" rel="next">
<link href="./intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting started</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">UNHCR Microdata Curation Handbook - 2023</a> 
        <div class="sidebar-tools-main">
    <a href="" title="Download" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-download"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="./UNHCR-Microdata-Curation-Handbook---2023.pdf">
            <i class="bi bi-bi-file-pdf pe-1"></i>
          Download PDF
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="./UNHCR-Microdata-Curation-Handbook---2023.epub">
            <i class="bi bi-bi-journal pe-1"></i>
          Download ePub
          </a>
        </li>
    </ul>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">About the handbook</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Getting Started</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getting_started.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting started</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./indentify_data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Identify data for publication</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Anonymization</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./anonymize.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Anonymize</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./drr.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Disclosure risk assessment</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Publication of data</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./validation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Validation and authorization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./publication.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Publication on the MDL and other post-curation tasks</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Appendices</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./annex1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Annex: R Packages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./annex2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Annex - Metadata guidance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./annex3.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Annex: Key and sensitive variables</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-3filemgmt" id="toc-sec-3filemgmt" class="nav-link active" data-scroll-target="#sec-3filemgmt"><span class="toc-section-number">2.1</span>  File management and naming conventions</a>
  <ul class="collapse">
  <li><a href="#sec-3folders" id="toc-sec-3folders" class="nav-link" data-scroll-target="#sec-3folders"><span class="toc-section-number">2.1.1</span>  Folder structure</a></li>
  <li><a href="#sec-datasetid" id="toc-sec-datasetid" class="nav-link" data-scroll-target="#sec-datasetid"><span class="toc-section-number">2.1.2</span>  Dataset identifier</a></li>
  <li><a href="#sec-3fileversion" id="toc-sec-3fileversion" class="nav-link" data-scroll-target="#sec-3fileversion"><span class="toc-section-number">2.1.3</span>  Data file versions</a></li>
  <li><a href="#sec-3title" id="toc-sec-3title" class="nav-link" data-scroll-target="#sec-3title"><span class="toc-section-number">2.1.4</span>  Dataset title</a></li>
  </ul></li>
  <li><a href="#sec-3setup" id="toc-sec-3setup" class="nav-link" data-scroll-target="#sec-3setup"><span class="toc-section-number">2.2</span>  Software requirements and setup</a>
  <ul class="collapse">
  <li><a href="#sec-3software" id="toc-sec-3software" class="nav-link" data-scroll-target="#sec-3software"><span class="toc-section-number">2.2.1</span>  Software requirements</a></li>
  <li><a href="#sec-3installing" id="toc-sec-3installing" class="nav-link" data-scroll-target="#sec-3installing"><span class="toc-section-number">2.2.2</span>  Installing R and R Studio</a></li>
  <li><a href="#sec-3projects" id="toc-sec-3projects" class="nav-link" data-scroll-target="#sec-3projects"><span class="toc-section-number">2.2.3</span>  Setting up a R project and creating an R script</a></li>
  <li><a href="#sec-3packages" id="toc-sec-3packages" class="nav-link" data-scroll-target="#sec-3packages"><span class="toc-section-number">2.2.4</span>  Installing packages</a></li>
  <li><a href="#sec-3importing" id="toc-sec-3importing" class="nav-link" data-scroll-target="#sec-3importing"><span class="toc-section-number">2.2.5</span>  Importing data</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-3gettingstarted" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting started</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="sec-3filemgmt" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="sec-3filemgmt"><span class="header-section-number">2.1</span> File management and naming conventions</h2>
<p>To maintain order, structure, consistency and transparency across the organization, standards for naming conventions and file management are important. The following are the standards must be used by Data Curators.</p>
<section id="sec-3folders" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="sec-3folders"><span class="header-section-number">2.1.1</span> Folder structure</h3>
<p>Each dataset that will be curated and published on the MDL must be downloaded from RIDL, checked, prepared, and anonymized on your local computer (i.e., using R as highlighted throughout this Handbook). Not all files associated with the curation will be stored on RIDL including the curation script, the disclosure risk assessment report, the MDL metadata population script and any files that will no longer be needed after the curation is finished. To maintain transparency within the organization, all files associated with this process are stored in a secure repository on the <a href="https://unhcr365.sharepoint.com/teams/dpsm-datacuration/">GDS – Data Curation</a> private SharePoint space. The metadata of external datasets that are harvested for the MDL should also be stored in this folder.</p>
<p>Files are organized by region and country where the data was collected. Beyond this, each dataset has a dedicated main folder. The name of this folder is the same as the ‘Survey identifier’ (see next section). Within this folder, are a set of subfolders organized in a way so that anyone can easily retrace the steps of the curation process. They should be organized into folders using the logic below.</p>
<table class="table">
<colgroup>
<col style="width: 6%">
<col style="width: 93%">
</colgroup>
<thead>
<tr class="header">
<th>Folder</th>
<th>Content</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0_data</td>
<td>All versions of the data. There should be at minimum three subfolders associated with the different versions: raw, clean and anonymous</td>
</tr>
<tr class="even">
<td>1_scripts</td>
<td>All scripts used in the curation of the dataset including the script(s) use for data check and preparation, anonymization and disclosure risk assessment script.</td>
</tr>
<tr class="odd">
<td>2_documentation</td>
<td>The metadata script for the dataset as well as the supporting documents including the questionnaire, report and any other analytical pieces produced (e.g briefs, infographics, etc.).</td>
</tr>
<tr class="even">
<td>3_authorization</td>
<td>The final version of the disclosure risk assessment report and copy of the email from the Personal Data Controller providing or rejecting validation of the anonymization and authorization for release on the MDL<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</td>
</tr>
</tbody>
</table>
<p>Note that Data Curators are encouraged to use <a href="https://support.rstudio.com/hc/en-us/articles/200526207-Using-RStudio-Projects">R projects</a>, which facilitate the use of relative paths so that R scripts are easily used by multiple users on different machines. The R project should be stored in the main directory of the dataset establishing it as the root folder. See more details on this in section <a href="#sec-3setup">Software requirements and setup</a> .</p>
</section>
<section id="sec-datasetid" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="sec-datasetid"><span class="header-section-number">2.1.2</span> Dataset identifier</h3>
<p>The dataset identifier (also referred to as a survey identifier by certain DDI compliant catalogues) is a unique code that can be used to identify any file associated with the dataset. For example, it will be the name of the folder on SharePoint where all working files related to the curation are stored. It is also the base for file names (see next section). The dataset identifier must:</p>
<ul>
<li><p>not include any spaces or special characters except for underscores (_);</p></li>
<li><p>only include standard English letters in upper case and numbers;</p></li>
<li><p>separate the different components of the identifier (see below) with underscores<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> (_); and</p></li>
<li><p>not share the same identifiers as another dataset.</p></li>
</ul>
<p>The dataset identifier is made up of the following components in the order it is presented below:&nbsp;</p>
<ul>
<li><p><strong>Source</strong>: The source of the dataset (e.g.&nbsp;UNHCR)</p></li>
<li><p><strong>Country code</strong>:&nbsp;ISO3 code of the country covered in the field (e.g.&nbsp;AFG for Afghanistan). See list of&nbsp;<a href="https://unstats.un.org/unsd/tradekb/knowledgebase/country-code">ISO3 codes here &gt;&gt;</a>&nbsp;</p></li>
<li><p><strong>Year</strong>:&nbsp;year to which data collection started, in the format yyyy (e.g.&nbsp;2019)&nbsp;</p></li>
<li><p><strong>Information type</strong>: short description of the information type (e.g.&nbsp;PDM, SENS, etc.).</p></li>
<li><p><strong>Other specification (optional)</strong>: if necessary, another field can be added to distinguish different datasets that would have otherwise the same identifier (e.g.&nbsp;a dataset comprised of multiple files, the same survey may be carried out in the same country and year but in different camps or times).</p></li>
</ul>
<p>The following is an example identifier for a standardized expanded nutrition survey (SENS) undertaken by <strong>UNHCR in Zimbabwe in 2017</strong> in the camp number 1: <code>UNHCR_ZWE_2017_SENS_CAMP1.</code></p>
<p>An example of file types and their suffixes is shown in the following table:</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: center;">File type</th>
<th style="text-align: center;">Suffix</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">raw data</td>
<td style="text-align: center;">_data_raw_v0.1</td>
</tr>
<tr class="even">
<td style="text-align: center;">clean data</td>
<td style="text-align: center;">_data_clean_v1.1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">anonymous data</td>
<td style="text-align: center;">_data_anon_v2.1</td>
</tr>
<tr class="even">
<td style="text-align: center;">questionnaire</td>
<td style="text-align: center;">_questionnaire</td>
</tr>
<tr class="odd">
<td style="text-align: center;">report</td>
<td style="text-align: center;">_report</td>
</tr>
<tr class="even">
<td style="text-align: center;">infographic</td>
<td style="text-align: center;">_infographic</td>
</tr>
<tr class="odd">
<td style="text-align: center;">map</td>
<td style="text-align: center;">_map</td>
</tr>
<tr class="even">
<td style="text-align: center;">cleaning script</td>
<td style="text-align: center;">_script_clean</td>
</tr>
<tr class="odd">
<td style="text-align: center;">anonymization script</td>
<td style="text-align: center;">_script_anon</td>
</tr>
<tr class="even">
<td style="text-align: center;">disclosure risk report</td>
<td style="text-align: center;">_dra_report</td>
</tr>
</tbody>
</table>
</section>
<section id="sec-3fileversion" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="sec-3fileversion"><span class="header-section-number">2.1.3</span> Data file versions</h3>
<p>As mentioned under scope, there are three version of a microdataset that are used and/or produced in the curation process. The file version in the RIDL and MDL metadata editor and attached to the file name should be as follows:</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: center;">File version</th>
<th style="text-align: center;">Extension</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">raw</td>
<td style="text-align: center;">v0.x</td>
</tr>
<tr class="even">
<td style="text-align: center;">clean</td>
<td style="text-align: center;">v1.x</td>
</tr>
<tr class="odd">
<td style="text-align: center;">anonymous<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></td>
<td style="text-align: center;">v2.x</td>
</tr>
</tbody>
</table>
<p>So, for example, the first version of the clean data for a socio-economic assessment undertaken by UNHCR in Zimbabwe in 2017 in the camp number 1 would be <em><code>UNHCR_ZWE_2017_SEA_CAMP1_data_clean_v1.1.csv</code></em> and the anonymized version would be <em><code>UNHCR_ZWE_2017_SEA_CAMP1_data_anon_v2.1.csv</code></em>.</p>
</section>
<section id="sec-3title" class="level3" data-number="2.1.4">
<h3 data-number="2.1.4" class="anchored" data-anchor-id="sec-3title"><span class="header-section-number">2.1.4</span> Dataset title</h3>
<p>The dataset title should follow the naming convention used by <a href="https://www.unhcr.org/en-us/data.html">UNHCR’s Operational Data Portal</a>. Survey names in RIDL are preferably in English, however it is acceptable if they are in the language of the report and dataset. In the Microdata Library, the survey name should be in English. Guidance below.</p>
<ul>
<li><p><strong>Location:</strong> The title of the dataset should always begin with the location at either country or regional level. The location name (followed by a colon) should be added at the beginning of the title. For example: <em>Uganda: Rhino Settlement Profile - April 2019</em>, instead of <em>Settlement Profile - Rhino - April 2019</em>. In case the dataset refers to multiple countries or a situation, the name of the region or situation could be added, e.g.&nbsp;<em>Burundi Situation: Population Dashboard - 30 April 2019</em>.<br>
Note that the country name should not be included when the dataset is uploaded to the MDL because it is automatically fetched from the metadata and would cause a repetition. In the case however that the dataset on MDL refers to a specific location within a country, the specific location should be included in place of the country name.</p></li>
<li><p><strong>Title:</strong> The title of the dataset follows the location after a colon and should be descriptive of the type of content (survey, assessment, profiling exercise, etc.). As part of DDI-compliant metadata, and if the dataset has a title in a language different than English, an alternate title can be added in the original language.</p></li>
<li><p><strong>Date:</strong> The year should be added at the end of the title. The full date should be added when two (or more) surveys, often belonging to a series, have the exact same title. The date, in a [Day] Month Year format should be added at the end of title, e.g.&nbsp;<em>Lebanon: National Inter-Sector List - May 2019</em>.</p></li>
<li><p><strong>Capitalization:</strong> Titles and descriptions should be written in title case. This means only using capital letters for the principal words, e.g.&nbsp;<em>Zambia: Sector Updates - July 2019</em>.</p></li>
</ul>
<p><strong>Examples:</strong></p>
<p>Zimbabwe: Socio-economic Assessment in Camp 1 – 2017</p>
<p>South Sudan Situation: Population Dashboard - April 2019</p>
</section>
</section>
<section id="sec-3setup" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="sec-3setup"><span class="header-section-number">2.2</span> Software requirements and setup</h2>
<section id="sec-3software" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="sec-3software"><span class="header-section-number">2.2.1</span> Software requirements</h3>
<p><a href="https://www.r-project.org/">R</a> and <a href="https://rstudio.com/">R Studio</a> are the software packages used in the examples in this handbook. GDS SDS prefers Data Curators to use R to ensure the curation process is adequately documented, transparent, replicable and to avoid any compatibility issues. For example, data manipulation in MS Excel cannot be tracked because it does not include a script and Stata is a proprietary software not accessible to everyone.</p>
</section>
<section id="sec-3installing" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="sec-3installing"><span class="header-section-number">2.2.2</span> Installing R and R Studio</h3>
<p>Install R from <a href="https://cloud.r-project.org/" class="uri">https://cloud.r-project.org/</a> and R Studio from <a href="https://www.rstudio.com/products/rstudio/download/#download" class="uri">https://www.rstudio.com/products/rstudio/download/#download</a>.&nbsp;</p>
<p>From time to time, you will need to update R. When using Windows, this can be done directly in RStudio using the <a href="https://cran.r-project.org/web/packages/installr/index.html">installr</a> package.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Check R version</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>() <span class="co"># your current version will display in the first line of the result</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Install and load installr package</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"installr"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(installr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Update R version</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">updateR</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="sec-3projects" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="sec-3projects"><span class="header-section-number">2.2.3</span> Setting up a R project and creating an R script</h3>
<p>The first step is to set up an R project. Using R projects facilitates your work to be easily reproduced by Data Providers and other Data Curators because it facilitates relative paths. See an article about it <a href="https://www.rforecology.com/post/organizing-your-r-studio-projects/">here</a>.</p>
<p>To set up a project:</p>
<ol type="a">
<li><p>Firstly, make sure you have created a folder for your dataset that follows the structure and naming conventions outlined in the previous section.</p></li>
<li><p>Open R Studio and create a new project (File &gt; New Project)</p></li>
<li><p>Select “Create Project from Existing Directory” and select the main directory of the dataset you created (Note: this will become the root directory from which all your paths will start). See example below:</p></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src=".\section2_2_3.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>Now anytime you work on that project, start by opening the project and then create your scripts (New File &gt; R Script) or navigate to them from there.</p>
</section>
<section id="sec-3packages" class="level3" data-number="2.2.4">
<h3 data-number="2.2.4" class="anchored" data-anchor-id="sec-3packages"><span class="header-section-number">2.2.4</span> Installing packages</h3>
<p>Once you have installed RStudio, set up your project and started a new script you will also need to install any packages that you will use in your script. For anonymization, you will need the <a href="https://cran.r-project.org/web/packages/sdcMicro/index.html">sdcMicro package</a>. You should work directly in the RStudio interface, however the <a href="https://readthedocs.org/projects/sdcappdocs/downloads/pdf/latest/">sdcMicro GUI application</a>, which does not require writing R code, may be useful for testing or to those less familiar with R. That said, due to the limited functionality of the GUI application, Data Curators must eventually become familiar with R and interact with the <code>sdcMicro</code> package using the R interface.</p>
<p><em>Installing sdcMicro in R</em></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install package</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"sdcMicro"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load package</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sdcMicro)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Load sdcMicro GUI</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sdcApp</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Several other packages are used in the examples in this handbook for the curation process. They are listed in <a href="./annex1.html">Annex – R packages</a>. The following provides example code to install and load multiple packages at the same time.</p>
<p><em>Installing multiple packages in R</em></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check what packages are installed on your computer</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">installed.packages</span>()</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># List of packages to install and load. Add more to list if needed. This manual assumes these packages are installed. </span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>packages_needed <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'your_package_name'</span>,<span class="st">'another_package_name'</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>                     <span class="st">'and_another_package_name'</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Run function to install and update packages. If one of the packages shows up as FALSE, try to install again.</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>repos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">CRAN =</span> <span class="st">'https://cran.rstudio.com'</span>, <span class="at">CRANextra =</span> <span class="st">'https://macos.rbind.io'</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(packages_needed[<span class="sc">!</span>packages_needed <span class="sc">%in%</span> <span class="fu">row.names</span>(<span class="fu">installed.packages</span>())],</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">dependencies =</span> <span class="cn">TRUE</span>,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">repos =</span> repos)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="fu">update.packages</span>(<span class="at">oldPkgs =</span> packages_needed, <span class="at">ask =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(packages_needed, require, <span class="at">character.only=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Note</strong> There are many ways to complete a task in R, and a variety of packages that can be used to reach the same objective. The example code provided throughout this handbook may not be / is probably not the only way. For users who prefer different methods, use them. The most important point is that the task is completed, and the result is correct. Suggestions for more efficient methods are most welcome to <a href="mailto:microdata@unhcr.org" class="email">microdata@unhcr.org</a>.</p>
</section>
<section id="sec-3importing" class="level3" data-number="2.2.5">
<h3 data-number="2.2.5" class="anchored" data-anchor-id="sec-3importing"><span class="header-section-number">2.2.5</span> Importing data</h3>
<p>Microdata on RIDL come in a variety of formats but are usually in at least .csv or .xls(x), and sometimes stata (.dta) or spss (.sav).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>dat_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'0_data/raw/file_name.csv'</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Import .xls or .xlsx using the readxl package</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>dat_raw <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">'0_data/raw/file_name.xls'</span>,<span class="at">sheet=</span><span class="st">'tab_name'</span>, <span class="at">na=</span><span class="fu">c</span>(<span class="st">''</span>, <span class="st">'NA'</span>, <span class="st">'missing'</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>dat_raw <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">'0_data/raw/file_name.xlsx'</span>,<span class="at">sheet=</span><span class="st">'tab_name'</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Import .dta and .sav files using the haven package</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>dat_raw <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">'0_data/raw/file_name.dta'</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>dat_raw <span class="ot">&lt;-</span> <span class="fu">read_sav</span>(<span class="st">'0_data/raw/file_name.sav'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Sometimes issues arise when importing the data into R. Below are some common issues and fixes, obviously not an exhaustive list.</p>
<p><strong>Potential issues and solutions when importing data into R</strong></p>
<ul>
<li><p><strong>A csv file contains accents or special characters such as é, ô, etc</strong>.: &nbsp;Specify the parameter encoding = ‘UTF-8’ in <code>read_csv</code></p></li>
<li><p><strong>An Excel file contains records with line breaks</strong>: R will misalign the data, creating new records that are part of another record. Using the readxl package should resolve this issue, however not always as it depends on the encoding of the source file. The line breaks can be removed directly in Excel using ‘find and replace’ (see below).</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="section2_2_5.png" class="img-fluid figure-img"></p>
</figure>
</div>
<ul>
<li><strong>Variable/column types are read incorrectly by R</strong>: By default, R uses the first 1000 observations to ‘guess’ the variable type. If it is an xls(x) or csv file , then <code>guess_max</code> option can be used to increase the number of rows used to guess the variable type.</li>
</ul>


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Note that this practice was changed in September 2022. Prior to that, the authorization emails were stored in an “Authorizations” folder on the GDS-Data Curation SharePoint space and this is where they can be located.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Note that the information in each component should not be separated. For example, UNOCHA should be UNOCHA and not UN_OCHA<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Note that following the Curation AI, all anonymous microdata referred to here have been cleaned before anonymized<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./indentify_data.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Identify data for publication</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>