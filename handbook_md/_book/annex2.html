<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>UNHCR Microdata Curation Handbook - 2023 - Appendix B — Annex - Metadata guidance</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./annex3.html" rel="next">
<link href="./annex1.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Appendix B — Annex - Metadata guidance</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">UNHCR Microdata Curation Handbook - 2023</a> 
        <div class="sidebar-tools-main">
    <a href="" title="Download" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-download"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="./UNHCR-Microdata-Curation-Handbook---2023.pdf">
            <i class="bi bi-bi-file-pdf pe-1"></i>
          Download PDF
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="./UNHCR-Microdata-Curation-Handbook---2023.epub">
            <i class="bi bi-bi-journal pe-1"></i>
          Download ePub
          </a>
        </li>
    </ul>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">About the handbook</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Getting Started</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getting_started.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting started</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./indentify_data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Identify data for publication</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Anonymization</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./anonymize.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Anonymize</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./drr.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Disclosure risk assessment</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Publication of data</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./validation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Validation and authorization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./publication.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Publication on the MDL and other post-curation tasks</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Appendices</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./annex1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Annex: R Packages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./annex2.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Annex - Metadata guidance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./annex3.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Annex: Key and sensitive variables</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-9addlabels" id="toc-sec-9addlabels" class="nav-link active" data-scroll-target="#sec-9addlabels"><span class="toc-section-number">B.1</span>  Add/modify labels</a>
  <ul class="collapse">
  <li><a href="#sec-9varlabels" id="toc-sec-9varlabels" class="nav-link" data-scroll-target="#sec-9varlabels"><span class="toc-section-number">B.1.1</span>  Variable labels</a></li>
  <li><a href="#sec-9vallabels" id="toc-sec-9vallabels" class="nav-link" data-scroll-target="#sec-9vallabels"><span class="toc-section-number">B.1.2</span>  Value labels</a></li>
  </ul></li>
  <li><a href="#sec-9fields" id="toc-sec-9fields" class="nav-link" data-scroll-target="#sec-9fields"><span class="toc-section-number">B.2</span>  Metadata fields</a>
  <ul class="collapse">
  <li><a href="#sec-9dataset-level" id="toc-sec-9dataset-level" class="nav-link" data-scroll-target="#sec-9dataset-level"><span class="toc-section-number">B.2.1</span>  Mandatory fields at the dataset level</a></li>
  <li><a href="#mandatory-fields-at-the-resource-level" id="toc-mandatory-fields-at-the-resource-level" class="nav-link" data-scroll-target="#mandatory-fields-at-the-resource-level"><span class="toc-section-number">B.2.2</span>  Mandatory fields at the resource level</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-9metadata" class="quarto-section-identifier d-none d-lg-block">Appendix B — Annex - Metadata guidance</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Metadata is designed to make data reusable in a responsible manner and to improve the functionality, search and interoperability of RIDL and the MDL. Metadata are also useful for preservation, institutional knowledge, discovery, understanding the data for analysis, understanding limitations for analysis, and ensuring data’s appropriate use.</p>
<p>UNHCR has developed metadata templates based on the needs of RIDL and MDL users and on the most common types of operational data collected by UNHCR and its partners. This section provides general guidance on the metadata fields. Technical guidance on the use of the tools to upload metadata will be added soon as the tools are undergoing re-development.</p>
<p><strong>Metadata standards</strong></p>
<p>The MDL follows internationally accepted metadata standards used across UNHCR as well as operational partners including the World Bank and OCHA. This includes those developed as part of the <a href="https://ddialliance.org/Specification/DDI-Codebook/2.5/">Data Documentation Initiative (DDI)</a>. All metadata are in English.</p>
<section id="sec-9addlabels" class="level2" data-number="B.1">
<h2 data-number="B.1" class="anchored" data-anchor-id="sec-9addlabels"><span class="header-section-number">B.1</span> Add/modify labels</h2>
<section id="sec-9varlabels" class="level3" data-number="B.1.1">
<h3 data-number="B.1.1" class="anchored" data-anchor-id="sec-9varlabels"><span class="header-section-number">B.1.1</span> Variable labels</h3>
<p>The MDL needs both the variable names and labels for the metadata on the MDL website. This facilitates the detailed search of the contents in each data file. See an example below:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src=".\section9_1_1.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>A dataset may or may not have variable labels attached to each variable. Normally they are only attached for stata or spss files. Even if they did have labels, key variables often lose their labels after going through sdcMicro and/or some labels may need to be modified if the variables were modified (e.g.&nbsp;recoded). The following code can be used to add labels to a data frame in R from an Excel file with the list of variable names and variable labels.</p>
<p><em>Adding labels in R</em></p>
<p>Given the dataset <code>your_dataset</code> and an Excel file <code>data_labels.xlsx</code> with two columns that include variable names (<code>var_names</code>) and variable labels (<code>var_labels</code>), you can use the <code>labelled</code> package and the following code to add labels.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install package &amp; add library</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">'labelled'</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(labelled)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Import the mapping file. If you use a csv, you can use read.csv. If you use an excel file you can use readxl::read_excel()</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>labels_map <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">'2_documentation/data_labels.xlsx'</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Labeling function</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>label_from_mapping <span class="ot">&lt;-</span> <span class="cf">function</span>(a_dataset, var_names, var_labels){</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">names</span>(a_dataset))){</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    a_name <span class="ot">=</span> <span class="fu">names</span>(a_dataset)[i]</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="sc">!</span>a_name <span class="sc">%in%</span> var_names){</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">'Label not found for var: '</span>,a_name))</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span>{</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>      index <span class="ot">=</span> <span class="fu">match</span>(a_name, var_names)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>      a_label <span class="ot">=</span> var_labels[index]</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>      <span class="co">#print(paste('setting to var: ', a_name, ' the label: ', a_label))</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">var_label</span>(a_dataset[a_name]) <span class="ot">=</span> a_label</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(a_dataset)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply labels</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>your_dataset <span class="ot">&lt;-</span> <span class="fu">label_from_mapping</span>(your_dataset, labels_map<span class="sc">$</span>var_name, labels_map<span class="sc">$</span>var_label)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="co">#view the result</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(your_dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
</section>
<section id="sec-9vallabels" class="level3" data-number="B.1.2">
<h3 data-number="B.1.2" class="anchored" data-anchor-id="sec-9vallabels"><span class="header-section-number">B.1.2</span> Value labels</h3>
<p>Value labels are descriptions of the values a variable can take. Value labels are particularly important for categorical variables whose value names are a shortened, abbreviated or an encoded version of the response option (e.g.&nbsp;0 = no, 1 = yes). If the value names are shortened, abbreviated, or encoded AND documentation in a convenient format is available (i.e in a codebook or the questionnaire), then the value names can be shared in their shortened, abbreviated or encoded format. If documentation is not available in a convenient format or cannot be shared, either:</p>
<ul>
<li><p>the value names should be converted to their labels (see example below); or</p></li>
<li><p>a codebook should be created (see example under section <a href="./anonymize.html#sec-5saveanon">Save anonymous version, codebook and anonymization script</a>).</p></li>
</ul>
<p>&nbsp;</p>
<p><em>Replacing value names in R</em></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace codes with labels</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>your_dataset<span class="sc">$</span>your_variable[your_dataset<span class="sc">$</span>your_variable <span class="sc">==</span><span class="st">'1'</span>] <span class="ot">&lt;-</span> <span class="st">'Yes'</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>your_dataset<span class="sc">$</span>your_variable[your_dataset<span class="sc">$</span>your_variable <span class="sc">==</span><span class="st">'0'</span>] <span class="ot">&lt;-</span> <span class="st">'No'</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># or alternatively </span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>your_dataset <span class="sc">%&gt;%</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">your_variable =</span> <span class="fu">recode</span>(your_variable, <span class="st">'1'</span> <span class="ot">=</span> <span class="st">'Yes'</span>, <span class="st">'0'</span> <span class="ot">=</span> <span class="st">'No'</span>))</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">#The following is a more efficient way to replace the codes across multiple variables.</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace codes with labels for multiple variables</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>map_values <span class="ot">&lt;-</span> <span class="cf">function</span>(yesno_var){</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>     yesno_var <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>     yesno_var <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">'yes'</span>,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>     yesno_var <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">'no'</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>     <span class="fu">return</span>(yesno_var)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>your_dataset <span class="ot">&lt;-</span> <span class="fu">mutate</span>(your_dataset, <span class="fu">across</span>( <span class="fu">c</span>(your_var1, your_var2, your_var3), map_values) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
</section>
</section>
<section id="sec-9fields" class="level2" data-number="B.2">
<h2 data-number="B.2" class="anchored" data-anchor-id="sec-9fields"><span class="header-section-number">B.2</span> Metadata fields</h2>
<p>Metadata created under the DDI standard has 4 main sections:</p>
<ul>
<li><p><strong>Dataset (study) level</strong>: General information on the dataset as a whole</p></li>
<li><p><strong>Data file (resource) level</strong>: Information on the data file itself, including its creation date and version number</p></li>
<li><p><strong>Variable Level</strong>: Information on the variables in a data file include the variable names, labels and response rate</p></li>
<li><p><strong>Other files (resource) level</strong>: General information on other resources such as questionnaires, reports, summary analyses, etc.</p></li>
</ul>
<p>The following tables provide an overview of the mandatory metadata fields in RIDL and the MDL, and instructions for their use. Some fields are not mandatory in the tools (denoted with an *) however they are still included in the table because they are necessary for the curation process.</p>
<p><em>Note:</em> While it is not necessary to complete all the fields, the metadata should include all the required fields to facilitate responsible use of the data. When populating the metadata, assume that any users may not have access to the Data Provider to seek more information than is what is available in the metadata.</p>
<section id="sec-9dataset-level" class="level3" data-number="B.2.1">
<h3 data-number="B.2.1" class="anchored" data-anchor-id="sec-9dataset-level"><span class="header-section-number">B.2.1</span> Mandatory fields at the dataset level</h3>
<table class="table">
<colgroup>
<col style="width: 6%">
<col style="width: 3%">
<col style="width: 89%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Field RIDL</th>
<th style="text-align: center;">Field MDL</th>
<th style="text-align: center;">Description &amp; usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Title*</td>
<td style="text-align: center;">Title*</td>
<td style="text-align: center;"><p>The dataset study title should follow, when possible, the naming convention used by UNHCR’s Operational Data Portal which is generally</p>
<p><em>Country: Subject - Mmm YYYY. Example: Zimbabwe: Socio-economic assessment in Camp 1 — 2017.</em></p></td>
</tr>
<tr class="even">
<td style="text-align: center;"><em>not included</em></td>
<td style="text-align: center;">Study type*</td>
<td style="text-align: center;"><p>Controlled field for broad category defining the dataset. List of possible responses includes:</p>
<p>1-2-3 Survey, phase 1 [hh/123-1]</p>
<p>Administrative Records, Health (ad/hea]</p>
<p>Administrative Records, Education (ad/edu]</p>
<p>Administrative Records, Other (ad/oth]</p>
<p>Agricultural Census [ag/census]</p>
<p>Agricultural Survey [ag/oth]</p>
<p>Child Labor Survey [hh/cls]</p>
<p>Core Welfare Indicators Questionnaire [hh/cwiq]</p>
<p>Demographic and Health Survey [hh/dhs]</p>
<p>Enterprise Survey [en/oth]</p>
<p>Enterprise Census [en/census]</p>
<p>Income/Expenditure/Household Survey [hh/ies]</p>
<p>Informal Sector Survey [hh/iss]</p>
<p>Integrated Survey (non-LSMS) [hh/is]</p>
<p>Labor Force Survey [hh/lfs]</p>
<p>Living Standards Measurement Study [hh/lsms]</p>
<p>Other Household Health Survey [hh/hea]</p>
<p>Other Household Survey [hh/oth]</p>
<p>Price Survey [hh/prc]</p>
<p>Priority Survey (hh/ps]</p>
<p>Population and Housing Census [hh/popcen]</p>
<p>Sample Frame, Households [sf/hh]</p>
<p>Sample Frame, Enterprises [sf/en]</p>
<p>Service Provision Assessments [hh/spa]</p>
<p>Socio-Economic/Monitoring Survey [hh/sems]</p>
<p>Statistical Info. &amp; Monitoring Prog. [hh/simpoc]</p>
<p>World Fertility Survey [hh/wfs]</p>
<p>World Health Survey [hh/whs]</p></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><em>not included</em></td>
<td style="text-align: center;">ID Number</td>
<td style="text-align: center;">Unique study identifier. Should follow the same structures as outlined in section 2.1.2 Dataset identifier.</td>
</tr>
<tr class="even">
<td style="text-align: center;">URL</td>
<td style="text-align: center;"><em>not included</em></td>
<td style="text-align: center;"><p>The URL link to the data on RIDL. This is automatically filled in RIDL, however, should be modified so that it is the same as the dataset identifier (see section 2.1.2 Dataset identifier). For example:</p>
<p>https://ridl.unhcr.org/dataset/UNHCR_ZWE_2017_SENS_CAMP1</p></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><em>available at resource level metadata</em></td>
<td style="text-align: center;">Version Description</td>
<td style="text-align: center;"><p>Should describe the version of the data in the study:</p>
<p>v01: Raw data</p>
<p>v1.1: Clean data</p>
<p>v2.1: Anonymized data</p></td>
</tr>
<tr class="even">
<td style="text-align: center;">Description</td>
<td style="text-align: center;">Abstract*</td>
<td style="text-align: center;">Summary of the dataset including the purpose and objectives of the data collection exercise including any relevant background information, what was collected, from whom was it collected, when was it collected, how was it collected and by whom was it collected as well as any other information pertinent to be known by other Data Users. Note that the subject of the abstract should be the data (not the report or any other product that was developed using the data). Below is an example of good abstract:</td>
</tr>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><p>“Against the recent COVID-19 pandemic and its secondary socio-economic impact, UNHCR in partnership with WFP undertook a Joint Needs Assessment (JNA) in Mantapala settlement to identify livelihood challenges and opportunities and develop socio-economic profiles of the most vulnerable. The JNA was to inform programmatic decisions and suggest the most appropriate and feasible targeting approach for future interventions by UNHCR and WFP in the settlement.</p>
<p>An extensive literature review and technical discussions took place to identify the knowledge gap during the assessment design phase. At the time of the assessment, 4,076 households were living in the settlement. Primary data collection took place between 19 and 28 September 2020 by UNHCR and WFP field teams. This included five focus group discussions, two key informant interviews and 1,128 household interviews. The household interviews used a structured questionnaire. Simple random sampling was used, and findings are statistically representative at the settlement level</p>
<p>This dataset is the anonymous version of the household interview data collected through the structured questionnaire. It was processed jointly by UNHCR and WFP</p></td>
</tr>
<tr class="even">
<td style="text-align: center;">Operational purpose of data</td>
<td style="text-align: center;">Kind of Data</td>
<td style="text-align: center;"><p>In the MDL, this field is a broad classification of the data from the following controlled vocabulary:</p>
<p><em>Sample survey data</em></p>
<p><em>Census/enumeration data</em></p>
<p><em>Administrative records data</em></p>
<p><em>Aggregate data</em></p>
<p><em>Clinical data</em></p>
<p><em>Even/trasaction data</em></p>
<p><em>Observation data/ratings</em></p>
<p><em>Process-produced data</em></p>
<p><em>Time-budget diaries</em></p></td>
</tr>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><p>In RIDL, the field is called ‘Operational purpose of data’ and allows multiple selection from the following list:</p>
<p><em>Participatory assessments</em></p>
<p><em>Baseline Household Survey</em></p>
<p><em>Rapid Needs Assessment</em></p>
<p><em>Protection monitoring</em></p>
<p><em>Programme Monitoring</em></p>
<p><em>Population data</em></p>
<p><em>Cartography, infrastructure and GIS</em></p>
<p><em>Results monitoring</em></p></td>
</tr>
<tr class="even">
<td style="text-align: center;"><em>not included</em></td>
<td style="text-align: center;">Description of scope</td>
<td style="text-align: center;">Description of the subject matter covered in the dataset. Note: this is not geographic scope but thematic.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;">Country</td>
<td style="text-align: center;">Name of country(ies) covered by the dataset, as well as its ISO-3 Code. See guidance on country names in the UNHCR Style Companion, March 2019.</td>
</tr>
<tr class="even">
<td style="text-align: center;">Geographies</td>
<td style="text-align: center;">Geographic Coverage</td>
<td style="text-align: center;">Describes the geographic units this data has been collected in. In the case of RIDL, the most detailed geographical unit needs to be selected.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-</td>
<td style="text-align: center;">Universe</td>
<td style="text-align: center;">Population of interest for the whole study</td>
</tr>
<tr class="even">
<td style="text-align: center;">Data Container</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Data container on RIDL.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">External Access Level</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Only relevant for microdata to be published on the MDL. Single select on access level on MDL.</td>
</tr>
<tr class="even">
<td style="text-align: center;">-</td>
<td style="text-align: center;">Primary investigator</td>
<td style="text-align: center;">Name of the institution/organization(s) implementing the study. This may be different from the data collector if the institution/organization(s) recruited a third party to collect the data.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Data Collector</td>
<td style="text-align: center;">Data collector(s)</td>
<td style="text-align: center;">Name of the institution/organization(s) that collected the data for the study.</td>
</tr>
<tr class="even">
<td style="text-align: center;">Topic classification</td>
<td style="text-align: center;">Topics</td>
<td style="text-align: center;">Topic(s) covered by the study. This is a multiple select, with predefined options available in RIDL.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Unit of measurement</td>
<td style="text-align: center;">Units of analysis*</td>
<td style="text-align: center;">Unit of observation / subject of the data. For example, if the data subjects were households, the unit of observation is the household, if it was individuals, individuals, etc.</td>
</tr>
<tr class="even">
<td style="text-align: center;">Sampling Procedure*</td>
<td style="text-align: center;">Sampling procedure*</td>
<td style="text-align: center;">Multiple select on sampling method if relevant. On MDL, open text field.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Data collectiontechnique</td>
<td style="text-align: center;">Data collection mode</td>
<td style="text-align: center;">Single select on method used to collect the data.</td>
</tr>
<tr class="even">
<td style="text-align: center;">Archived</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Yes/No if data collection and manipulation is complete and data are to be archived. This should remain ‘yes’ if data collection/manipulation is still active.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Admin notes – Sampling procedure*</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">If the data are a sample, this section must include information on the sample frame (including the size of the sample frame), sample size and further details on the sampling methodology.</td>
</tr>
<tr class="even">
<td style="text-align: center;">Admin notes – Access authority*</td>
<td style="text-align: center;">Access authority</td>
<td style="text-align: center;">The name and organization of the data controller(s).</td>
</tr>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">For RIDL, this should be the name of the UNHCR staff member that is considered the data controller. If the data is co-controlled by another organization, this should also include the name of other organizations that have control over the data.</td>
</tr>
<tr class="even">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">For MDL, this should be UNHCR with the contact information as microdata@unhcr.org.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-</td>
<td style="text-align: center;">Citation Requirement</td>
<td style="text-align: center;">The citation requirements for MDL Data Users in the following format: Data Controller (YYYY). Study title, YYYY. Accessed from https://microdata.unhcr.org.</td>
</tr>
<tr class="even">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><p>Example: UNHCR (2021). Burkina Faso: Standardized Expanded Nutrition Survey microdata, 2014. Accessed from: https://microdata.unhcr.org.</p>
<p>For externally harvested datasets, the citation should remain as provided if there is one or follow the above format if there is not one available in the provided metadata.</p></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
</section>
<section id="mandatory-fields-at-the-resource-level" class="level3" data-number="B.2.2">
<h3 data-number="B.2.2" class="anchored" data-anchor-id="mandatory-fields-at-the-resource-level"><span class="header-section-number">B.2.2</span> Mandatory fields at the resource level</h3>
<table class="table">
<colgroup>
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 85%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Field RIDL</th>
<th style="text-align: center;">Field MDL</th>
<th style="text-align: center;">Description &amp; usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Name*</td>
<td style="text-align: center;">Name*</td>
<td style="text-align: center;"><p>Brief name of the file. This should include if the data are raw, clean or anonymous. Use the following naming conventions to distinguish between the three:</p>
<p>data (raw v0.x)</p>
<p>data (clean v1.x)</p>
<p>data (anonymous v2.x)</p></td>
</tr>
<tr class="even">
<td style="text-align: center;">File type</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">Type of file such as .xlsx, .csv, .dta, etc. This is automatically populated based on the file uploaded.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Internal Access Level</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">Single select on who within UNHCR should have access to the data. Either internally visible (anyone in UNHCR can have access) or private (only certain individuals should have access).</td>
</tr>
<tr class="even">
<td style="text-align: center;">Data collection first date</td>
<td style="text-align: center;">Data collection dates – Start*</td>
<td style="text-align: center;">First date of data collection</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Data collection last date</td>
<td style="text-align: center;">Data collection dates – End*</td>
<td style="text-align: center;">Last date of data collection</td>
</tr>
<tr class="even">
<td style="text-align: center;">Version</td>
<td style="text-align: center;">Version</td>
<td style="text-align: center;">Version of the file</td>
</tr>
<tr class="odd">
<td style="text-align: center;">File Process Status</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">The process status of the file: Raw, Cleaned or Cleaned &amp; Anonymized.</td>
</tr>
<tr class="even">
<td style="text-align: center;">Identifiability</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">The level to which data subjects are identifiable in the data. Select between Personally identifiable (i.e.&nbsp;direct identifiers included), Anonymized 1st level (direct identifiers removed), Anonymized 2nd level (anonymized using UNHCR standards and for release under Licensed Use), Anonymized 3rd level (anonymized using UNHCR standards and for release under Public Use).</td>
</tr>
</tbody>
</table>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./annex1.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Annex: R Packages</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./annex3.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Annex: Key and sensitive variables</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>